<html>
<head>
	<title>Tweener</title>
	<script type="text/javascript" src="tweener.min.js"></script>
	<style media="screen"> canvas {background-color: black;}
	</style>
</head>
<body>
	<canvas id="canvas" width="600", height="300"></canvas>
</body>
<script type="text/javascript">
	function DummyCanvas(id) {
		var canvas = document.getElementById(id);
		var ctx = canvas.getContext("2d");
		var rects = [];
		setInterval(update, 1000/60);

		function createRect(name, color) {
			var hex = Math.floor(Math.random()*0xFFFFFF);
			var color = color || '#' + hex.toString(16);
			var rect = {x:0, y:0, w:50, h:50, color:color};
			rects.push(rect);
			return rect;
		}

		function update() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			for (var i in rects) {
				var rect = rects[i];
				ctx.fillStyle = rect.color;
				ctx.fillRect(rect.x, rect.y, rect.w, rect.h);
			}
		}

		this.createRect = createRect;
	};
</script>

<script type="text/javascript">
  var canvas = new DummyCanvas('canvas');
  var boxA = canvas.createRect('boxA');
  var boxB = canvas.createRect('boxB');
  var tweener = new Tweener(1/60);

  tweener.add(boxA)
    .from({x:600}, 0.5, Tweener.ease.quartOut)
    .to({x:250}, 0.5, Tweener.ease.quartOut)
    .from({x:0}, 0.5, Tweener.ease.quartOut)
    .to({x:0}, 0.5, Tweener.ease.quartOut)
    .then(function() {
      console.log('finish a');
    });

  tweener.add(boxB)
    .to({y:100}, 0.5, Tweener.ease.quartOut)
    .wait(0.2)
    .to({y:250}, 1.5, Tweener.ease.elasticOut)
    .then(function() {
      console.log('finish b');
    });

</script>
</html>
